prefadoros
==========
Πρόκειται για μια διαδικτυακή version του παιχνιδιού της πρέφας.
Το παιχνίδι βασίζεται σε βάση δεδομένων την οποία προσπελαύνουν παίκτες
μέσω του browser που χρησιμοποιούν.

28-06-2011
----------
Δημιουργήθηκε το project στο GoogleCode. Επελέγη το Mercurial ως VCS.

Έγινε test στο αποθετήριο από τον Η/Υ της Καλαμαριάς.

Δημιούργησα database "prefadoros" στον Η/Υ της Καλαμαριάς.

29-06-2011
----------
Έκανα clone στον Η/Υ του Δ.Θ.

20-06-2011
----------
Δημιούργησα database "prefadoros" στον Η/Υ του Δ.Θ.

03-07-2011
----------
Τελείωσα τη διαχείριση των περιοχών pss.
Με το όνομα pss ονομάζω τις προσκλήσεις, τις σχέσεις και τη συζήτηση.

04-07-2011
----------
Δημιουργήθηκε το funchat window.

12-07-2011
----------
Τελειοποίησα την κλάση "dialogos" μέσω της οποίας θα γίνεται όλο το
interaction με τον χρήστη, αντί των απλοϊκών "prompt", "confirm",
"alert" κλπ.

13-07-2011
----------
Στήθηκε ο κυρίως κύκλος λειτουργίας του προγράμματος. Εντοπίστηκε το
πρόβλημα μπλοκαρίσματος σε ταυτόχρονα Ajax requests. Πράγματι, όσο
η PHP είναι σε λειτουργία και περιέχεται "session_start" στο script
που είναι ενεργό, τότε τυχόν νέες κλήσεις PHP μπλοκάρουν στο "session_start".
Το πρόβλημα λύνεται με την μη κλήση του "session_start" στο κυρίως
πρόγραμμα ενημέρωσης ("prefadoros/dedomena.php"). Πράγματι, στο
πρόγραμμα αυτό αποστέλλω το login name του χρήστη μέσω παραμέτρου.
Δεν υπάρχει κανένας κίνδυνος, καθώς το μόνο που κάνει αυτό το
πρόγραμμα είναι να επιστρέφει δεδομένα. Ο μόνος κίνδυνος που
ελλοχεύει αφορά στο απόρρητο των συζητήσεων.

16-09-2011
----------
Μετακινήθηκε το πρόγραμμα σε server της lancom με IP:

	178.21.171.4

Για FTP έχουμε το FileZilla με όνομα κόμβου "178.21.171.4",
ενώ για SSH έχουμε port 22122.

Για το phpMyAdmin έχουμε:

	http://178.21.171.4/phpym

Βάση δεδομένων είναι η "prefadoros" και χρήστης το ίδιο.

Κωδικοποιημένα σχόλια
=====================
Το πεδίο "σχόλιο" του πίνακα "συζήτηση" μπορεί να περιέχει κωδικοποιημένα
κείμενα, ή να περιέχει εμφυτευμένα emoticons, ή εικόνες funchat.

Κωδικοί
-------
@WP@	Μεταφράζεται σε μολύβι που γράφει και δείχνει ότι ο παίκτης
	γράφει σχόλια στη συζήτηση της παρτίδας.

@WK@	Μεταφράζεται σε πληκτρολόγιο που γράφει και δείχνει ότι ο παίκτης
	γράφει σχόλια στη δημόσια συζήτηση του καφενείου.

@KN@	Ενεργοποιεί την κόρνα μόνο όμως αν παραληφθεί λίγα δευτερόλεπτα
	μετά την αποστολή του.

Εμφυτευμένα emoticons
---------------------
Πρόκειται για strings της μορφής "^E:s:i^", όπου "s" και "i" είναι ακέραιοι
αριθμοί και αφορούν στο emoticon set index και στο emoticon index, π.χ.
το "^E:1:3^" θα μετατραπεί στο τέταρτο emoticon του δεύτερου set.

Funchat
-------
Τα σχόλια που προέρχονται από το funchat έχουν τη μορφή:

	@FC@image@zoom@sound@title

όπου image είναι το αρχείο εικόνας που βρίσκεται στον funchat server,
π.χ. "http://www.pineza.info/prefa/images/gallery/", ή αρχείο εικόνας
που βρίσκεται στον server της ΔΠ κάτω από το directory "funchat/user"
σε subdirectory που φέρει το όνομα του παίκτη, π.χ. αρχείο "panos.jpg"
στο "funchat/user/panos".
Το πεδίο "zoom" είναι είτε κενό, είτε ένας δεκαδικός αριθμός που
δηλώνει το επιθυμητό πλάτος της εικόνας σε εκατοστά του μέτρου.
Το πεδίο "sound" είναι ένα κωδικό όνομα ήχου, π.χ. "korna", "doing"
κλπ.
Το πεδίο "title" είναι το κείμενο που θα εμφανιστεί κάτω από την
εικόνα του funchat.

Γνωστά προβλήματα
=================
Κατά την έξοδο από το funchat window δεν ενημερώνεται το funchat icon
στο control panel. Αυτό συμβαίνει στον Opera browser, καθώς δεν
υποστηρίζει το onunload.

Κατά το κλείσιμο του κεντρικού παραθύρου της εφαρμογής πρέπει να κλείνει
αυτόματα και το funchat window, εφόσον αυτό είναι ανοικτό. Στον Opera
browser δεν ισχύει αυτό, καθώς δεν υποστηρίζεται το onunload.

Κατά το κλείσιμο του κεντρικού παραθύρου της εφαρμογής πρέπει να σβήνονται
αυτόματα τυχόν ενδείξεις γραφής σχολίων. Στον Opera browser δεν ισχύει αυτό,
καθώς δεν υποστηρίζεται το onunload.

Στη σελίδα εισόδου του administrator προτείνεται κανονικά στη
θέση του login το όνομα "Administrator" και το input field είναι
disabled. Αυτό έχει ως αποτέλεσμα την πρόταση του login name
του χρήστη, π.χ. "zoi" στον Safari. Πρόσθεσα λίγο κώδικα στο
administrator/login.js για να λύσω το πρόβλημα.

Απόρρητο συζητήσεων
-------------------
Το πρόγραμμα δεν εγγυάται το απόρρητο των συζητήσεων. Πράγματι, το
απόρρητο των συζητήσεων εξασφαλίζεται μόνο μέσω των προγραμμάτων του
site. Ο προγραμματιστής, ο διαχειριστής του site, ή οποιοσδήποτε έχει
εξωτερική πρόσβαση στη βάση δεδομένων μπορεί να διαβάσει το περιεχόμενο
των συζητήσεων.

Login names
-----------
Τα login names περιορίζονται όσον αφορά τους χαρακτήρες που μπορούν να
περιέχουν. Πιο συγκεκριμένα, ακολουθούν την ονοματοδοσία των μεταβλητών,
δηλαδή μπορούν να περιέχουν μόνο λατινικούς χαρακτήρες, αριθμητικά ψηφία
και underscores, ενώ ο πρώτος χαρακτήρας πρέπει να είναι λατινικός χαρακτήρας.
